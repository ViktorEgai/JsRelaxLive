(()=>{"use strict";const e=function(){fetch("../db.json").then((function(e){return e.json()})).then((function(e){var t,n,r,o,l=function(e){var t=[];return e.forEach((function(e){return t.push(e.type)})),t=t.filter((function(e,n){return t.indexOf(e)==n}))}(e);!function(e){var t=document.querySelector(".nav-list-popup-repair");e.forEach((function(e){t.insertAdjacentHTML("beforeend",'\n      <button class="button_o popup-repair-types-nav__item ">\n        '.concat(e,"\n      </button>\n      "))}))}(l),function(e,t){for(var n=document.querySelector(".popup-repair-types-content-table"),r=function(r){var o=document.createElement("table");o.className="popup-repair-types-content-table__list d-none";var l=document.createElement("tbody");n.appendChild(o),e.forEach((function(e){t[r]===e.type&&l.insertAdjacentHTML("beforeend",'\n          <tr class="mobile-row">\n            <td class="repair-types-name">\n              '.concat(e.name,'\n            </td>\n            <td class="mobile-col-title tablet-hide desktop-hide">\n              Ед.измерения\n            </td>\n            <td class="mobile-col-title tablet-hide desktop-hide">\n              Цена за ед.\n            </td>\n            <td class="repair-types-value">').concat(e.units,'</td>\n            <td class="repair-types-value">').concat(e.cost,"</td>\n          </tr>\n        "))})),o.appendChild(l)},o=0;o<t.length;o++)r(o);n.querySelectorAll(".popup-repair-types-content-table__list")[0].classList.remove("d-none")}(e,l),o=document.querySelector(".popup-repair-types"),document.querySelectorAll(".link-list a").forEach((function(e){e.addEventListener("click",(function(){o.style.display="flex"}))})),t=document.querySelectorAll(".popup-repair-types-content-table__list"),n=o.querySelectorAll("button"),r=o.querySelector(".popup-repair-types-content__head-title"),o.addEventListener("click",(function(e){var o=e.target;(o=o.closest(".popup-repair-types-nav__item"))&&(n.forEach((function(e,r){e===o&&function(e){for(var r=0;r<t.length;r++)e===r?(n[r].classList.add("active"),t[r].classList.remove("d-none")):(n[r].classList.remove("active"),t[r].classList.add("d-none"))}(r)})),r.textContent=o.textContent)})),document.addEventListener("click",(function(e){var t=e.target;(t.closest(".close")||"svg"===t.tagName)&&(o.style.display="none")})),function(){if(document.documentElement.clientWidth<1024){var e=document.querySelector(".popup-dialog-repair-types"),t=document.querySelector(".nav-list-popup-repair"),n=document.querySelector(".nav-popup-repair-types"),r=n.querySelectorAll(".popup-repair-types-nav__item"),o=n.offsetWidth,l=document.querySelectorAll(".mobile-row"),i=0;r.forEach((function(e){document.documentElement.clientWidth>578?e.style.width="".concat(o/2,"px"):e.style.width="".concat(o,"px")})),document.documentElement.clientWidth<578&&l.forEach((function(e){return e.classList.add("showHide")})),e.addEventListener("click",(function(e){var n=e.target;"nav-arrow-popup-repair_left"===n.id&&(i-=o),"nav-arrow-popup-repair_right"===n.id&&(document.documentElement.clientWidth>578?i<1.5*o&&(i+=o):i<5*o&&(i+=o)),t.style.transform="translateX(-".concat(i,"px)")}))}}()})).catch((function(e){return console.error(e)}))};function t(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}const n=function(){var e=document.querySelector(".popup-thank"),n=document.querySelectorAll("form"),r=document.createElement("div");document.querySelectorAll('input[name="phone"]').forEach((function(e){e.addEventListener("input",(function(t){var n=t.target.closest("form");e.value.length<18?n.querySelector("button").disabled=!0:n.querySelector("button").disabled=!1}))})),n.forEach((function(n){n.querySelector("button").disabled=!0,n.querySelector(".checkbox__input").addEventListener("change",(function(){n.querySelector("button").disabled?n.querySelector("button").disabled=!1:n.querySelector("button").disabled=!0})),n.addEventListener("submit",(function(i){r.innerHTML="\n        <div class='sk-double-bounce'>\n          <div class='sk-child sk-double-bounce-1'></div>\n          <div class='sk-child sk-double-bounce-2'></div>\n        </div>\n\t\t\t\t",o(),i.preventDefault();var c,a=new FormData(n),s={};a.forEach((function(e,t){s[t]=e})),l(s).then((function(t){if(200!==t.status)throw new Error("status network not 200");e.style.visibility="visible",document.querySelector(".sk-double-bounce").style.display="none"})).catch((function(e){console.error(e)})),(c=n,function(e){if(Array.isArray(e))return t(e)}(c)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(c)||function(e,n){if(e){if("string"==typeof e)return t(e,n);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?t(e,n):void 0}}(c)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()).forEach((function(e){e.value="","checkbox"===e.type&&(e.checked=!1)})),n.querySelector("button").disabled=!0}))}));var o=function(){var e=document.createElement("style");e.textContent="\n.sk-double-bounce {\n  width: 50px;\n  height: 50px;\n  position: fixed;\n  margin: auto;  \n  top: 50%;\n  left: 50%;\n  transform: translate(-50%,-50%)\n  \n}\n.sk-child {\n    width: 100%;\n    height: 100%;\n    border-radius: 50%;\n    background-color: #fdab16;\n    opacity: 0.6;\n    position: absolute;\n    top: 0;\n    left: 0;\n    animation: sk-double-bounce 2s infinite ease-in-out;\n  }\n  .sk-double-bounce-2 {\n    animation-delay: -1s;\n  }\n@keyframes sk-double-bounce {\n  0%,\n  100% {\n    transform: scale(0);\n  }\n  50% {\n    transform: scale(1);\n  }\n}\n\t\t",document.head.appendChild(e)},l=function(e){return fetch("./server.php",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)})};e.addEventListener("click",(function(t){t.target.classList.contains("close")&&(e.style.visibility="hidden")}))};function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}const o=function(){var e,t=document.getElementById("repair-types"),n=t.querySelector(".repair-types-slider-wrap"),o=document.querySelectorAll(".nav-list-repair button"),l=document.querySelectorAll(".repair-types-slider div"),i=t.querySelector(".slider-counter-content__current"),c=t.querySelector(".slider-counter-content__total"),a=[];(e=l,function(e){if(Array.isArray(e))return r(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return r(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()).forEach((function(e){e.className.match(/^[types]/)&&a.push(e)}));var s,u,d,f=function(e){var t=e.querySelectorAll(".repair-types-slider__slide"),r=0;c.textContent=t.length,i.textContent=r+1,t.forEach((function(e,t){e.classList.contains("d-block")&&(i.textContent=t)}));var o=function(e){t.forEach((function(t,n){e===n?(t.classList.add("d-block"),t.classList.remove("d-none"),i.textContent=e+1):(t.classList.add("d-none"),t.classList.remove("d-block"))}))};o(r),n.addEventListener("click",(function(e){e.preventDefault();var n=e.target;if(o(r),n.matches(".slider-arrow_right")||"svg"===n.tagName)r++;else{if(!n.matches(".slider-arrow_left")&&"svg"!==n.tagName)return;r--}r>=t.length&&(r=0),r<0&&(r=t.length-1),o(r)}))};f(a[0]),t.addEventListener("click",(function(e){var t=e.target;(t=t.closest("button.button_o"))&&o.forEach((function(e,n){e===t&&function(e){for(var t=0;t<a.length;t++)e===t?(o[t].classList.add("active"),a[t].classList.remove("d-none"),f(a[t])):(o[t].classList.remove("active"),a[t].classList.add("d-none"))}(n)}))})),s=t.querySelector(".nav-wrap-repair"),u=t.querySelector(".nav-list-repair"),d=0,s.addEventListener("click",(function(e){var t=e.target;if("nav-arrow-repair-left_base"===t.id)d>0&&(d-=20);else{if("nav-arrow-repair-right_base"!==t.id)return;d<60&&(d+=20)}u.style.transform="translateX(-".concat(d,"%)")}))};document.addEventListener("DOMContentLoaded",(function(){var t,r,l,i,c,a,s,u,d,f,p,y,m,v,h;e(),m=document.querySelector(".header-contacts__arrow img"),v=document.querySelector(".header-contacts__phone-number-accord"),h=document.querySelector(".header-contacts__phone-number-accord a"),m.addEventListener("click",(function(){v.hasAttribute("style")&&h.hasAttribute("style")?(v.removeAttribute("style"),h.removeAttribute("style"),m.style.transform="rotate(0)",m.style.transition=" transform 0.2s"):(v.style.top="20px",h.style.opacity=1,m.style.transform="rotate(180deg)",m.style.transition=" transform 0.2s")})),f=document.getElementById("menuBtn"),p=document.querySelector(".popup-dialog-menu"),y=document.querySelector(".close-menu"),f.addEventListener("click",(function(){p.style.transform="translate3d(0,0,0)"})),y.addEventListener("click",(function(){document.documentElement.clientWidth>576?p.style.transform="translate3d(645px,0,0)":p.style.transform="translate3d(0,-300vh,0)"})),document.addEventListener("click",(function(e){var t=e.target;t.closest(".popup-dialog-menu")||t.closest("#menuBtn")||(document.documentElement.clientWidth>576?p.style.transform="translate3d(645px,0,0)":p.style.transform="translate3d(0,-300vh,0)")})),function(){var e=document.querySelector(".popup-dialog-menu"),t=e.querySelectorAll(".menu-link"),n=document.querySelector(".button-footer a");t.forEach((function(t){t.addEventListener("click",(function(n){if(t.classList.contains("no-overflow"))document.documentElement.clientWidth>576?e.style.transform="translate3d(635px,0,0)":e.style.transform="translate3d(0,-300vh,0)";else{n.preventDefault();var r=t.getAttribute("href").substr(1);document.getElementById(r).scrollIntoView({behavior:"smooth",block:"start"}),document.documentElement.clientWidth>576?e.style.transform="translate3d(635px,0,0)":e.style.transform="translate3d(0,-300vh,0)"}}))})),n.addEventListener("click",(function(e){e.preventDefault();var t=n.getAttribute("href").substr(1);document.getElementById(t).scrollIntoView({behavior:"smooth",block:"start"})}))}(),function(){document.querySelector(".services-slider");var e=document.querySelectorAll(".services-slider__slide"),t=0,n=function(t){e.forEach((function(e,n){e.style.display=t===n?"flex":"none"}))};n(t),setInterval((function(){n(t),++t>=e.length&&(t=0),n(t)}),3e3)}(),document.querySelectorAll("input").forEach((function(e){if("phone"===e.getAttribute("name")){var t,n=function(e){e.keyCode&&(t=e.keyCode),this.selectionStart<3&&e.preventDefault();var n="+7 (___) ___-__-__",r=0,o=n.replace(/\D/g,""),l=this.value.replace(/\D/g,""),i=n.replace(/[_\d]/g,(function(e){return r<l.length?l.charAt(r++)||o.charAt(r):e}));-1!=(r=i.indexOf("_"))&&(r<5&&(r=3),i=i.slice(0,r));var c=n.substr(0,this.value.length).replace(/_+/g,(function(e){return"\\d{1,"+e.length+"}"})).replace(/[+()]/g,"\\$&");(!(c=new RegExp("^"+c+"$")).test(this.value)||this.value.length<5||t>47&&t<58)&&(this.value=i),"blur"==e.type&&this.value.length<5&&(this.value="")};e.addEventListener("input",n,!1),e.addEventListener("focus",n,!1),e.addEventListener("blur",n,!1),e.addEventListener("keydown",n,!1)}})),n(),u=document.querySelectorAll(".link-privacy"),d=document.querySelector(".popup-privacy"),u.forEach((function(e){e.addEventListener("click",(function(){d.style.visibility="visible"}))})),d.addEventListener("click",(function(e){var t=e.target;t.closest(".close")&&(t.parentNode.style.visibility="hidden")})),document.querySelectorAll(".formula-item__icon").forEach((function(e){e.addEventListener("mouseover",(function(){var t=e.querySelector(".formula-item-popup");t.style.visibility="visible",t.style.opacity=1,t.style.transition="opacity 0.2s",e.parentElement.style.opacity=.8,t.getBoundingClientRect().y<0&&(t.style.transform="translateY(310px)",t.classList.add("formula-item-popup--before"))})),e.addEventListener("mouseout",(function(){var t=e.querySelector(".formula-item-popup");t.style.visibility="hidden",t.style.opacity=0,t.style.transition="opacity 0.2s",t.style.transform="translateY(0)",t.classList.remove("formula-item-popup--before")}))})),function(){if(document.documentElement.clientWidth<1008){var e=document.querySelector(".formula-slider-wrap"),t=document.querySelectorAll(".formula-slider__slide"),n=0,r=function(e){t.forEach((function(t,n){t.style.display=e===n?"flex":"none"}))};r(n),e.addEventListener("click",(function(e){e.preventDefault();var o=e.target;if(r(n),o.matches(".slider-arrow_right-formula ")||"svg"===o.tagName)n++;else{if(!o.matches(".slider-arrow_left-formula")&&"svg"!==o.tagName)return;n--}n>=t.length&&(n=0),n<0&&(n=t.length-1),r(n)}))}}(),o(),function(){var e,t,n,r,o,l,i,c=document.getElementById("portfolio"),a=c.querySelector(".portfolio-slider"),s=document.querySelector(".popup-portfolio"),u=a.querySelectorAll(".portfolio-slider__slide-frame"),d=c.querySelector(".portfolio-slider-wrap"),f=d.querySelector(".portfolio-slider-mobile").querySelectorAll(".portfolio-slider__slide-frame");e=document.getElementById("portfolio-arrow_left"),t=document.getElementById("portfolio-arrow_right"),n=a.querySelector(".portfolio-slider__slide").offsetWidth,r=0,c.addEventListener("click",(function(o){var l=o.target;if(l.closest(".slider-arrow_right-portfolio"))document.documentElement.clientWidth<900?(r<4*n&&(r+=n),r>3*n&&(t.style.display="none")):document.documentElement.clientWidth<1008?(r<3*n&&(r+=n),r>2*n&&(t.style.display="none")):(r<2*n&&(r+=n),r>1*n&&(t.style.display="none")),e.style.display="flex";else{if(!l.closest(".slider-arrow_left-portfolio"))return;r>0&&(r-=n),0===r&&(e.style.display="none"),t.style.display="flex"}a.style.transform="translateX(-".concat(r,"px)"),a.style.transition="transform 0.4s"})),o=d.querySelector(".slider-counter-responsive"),l=o.querySelector(".slider-counter-content__current"),i=o.querySelector(".slider-counter-content__total"),function(){i.textContent=f.length;var e=0,t=function(e){f.forEach((function(t,n){t.style.display=e===n?"block":"none"})),l.textContent=e+1};t(e),d.addEventListener("click",(function(n){n.preventDefault();var r=n.target;if(t(e),r.closest(".slider-arrow-tablet-mobile_right"))e++;else{if(!r.closest(".slider-arrow-tablet-mobile_left"))return;e--}e>=f.length&&(e=0),e<0&&(e=f.length-1),t(e)}))}();var p=function(e){e.forEach((function(e,t){e.addEventListener("click",(function(){s.style.visibility="visible",y(t)}))}))};p(u),p(f);var y=function(e){var t=s.querySelectorAll(".popup-portfolio-slider__slide"),n=s.querySelectorAll(".popup-portfolio-text"),r=s.querySelector(".slider-counter-content__current");s.querySelector(".slider-counter-content__total").textContent=t.length;var o=e,l=function(e){t.forEach((function(t,n){t.style.display=e===n?"block":"none"})),n.forEach((function(t,n){e===n?document.documentElement.clientWidth<1008&&document.documentElement.clientWidth>558?t.style.cssText="display: flex;\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tjustify-content: space-around; \n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tflex-direction: row;":t.style.display="flex":t.style.display="none"})),r.textContent=e+1};l(o),s.addEventListener("click",(function(e){e.preventDefault();var n=e.target;if(n.classList.contains("close")&&(s.style.visibility="hidden"),l(o),n.id===popup_portfolio_right||"svg"===n.tagName)o++;else{if(n.id!==popup_portfolio_left&&"svg"!==n.tagName)return;o--}o>=t.length&&(o=0),o<0&&(o=t.length-1),l(o)}))}}(),function(){var e=document.getElementById("transparency"),t=e.querySelectorAll(".transparency-item__img"),n=document.querySelector(".popup-transparency"),r=e.querySelectorAll(".transparency-item");t.forEach((function(e,t){e.addEventListener("click",(function(){n.style.visibility="visible",o(t)}))}));var o=function(e){var t=n.querySelectorAll(".popup-transparency-slider__slide"),r=n.querySelector(".slider-counter-content__current");n.querySelector(".slider-counter-content__total").textContent=t.length;var o=e,l=function(e){t.forEach((function(t,n){t.style.display=e===n?"block":"none"})),r.textContent=e+1};l(o),n.addEventListener("click",(function(e){e.preventDefault();var r=e.target;if(r.classList.contains("close")&&(n.style.visibility="hidden"),function(e){l(e)}(o),r.closest(".popup-arrow_transparency_right")||"svg"===r.tagName)o++;else{if(!r.closest(".popup-arrow_transparency_left")&&"svg"!==r.tagName)return;o--}o>=t.length&&(o=0),o<0&&(o=t.length-1),function(e){l(e)}(o)}))};!function(){if(document.documentElement.clientWidth<1076){var t=0,n=function(e){r.forEach((function(t,n){t.style.display=e===n?"flex":"none"}))};n(t),e.addEventListener("click",(function(e){e.preventDefault();var o=e.target;if(n(t),o.closest(".slider-arrow slider-arrow_right")||"svg"===o.tagName)t++;else{if(!o.closest(".slider-arrow slider-arrow_left")&&"svg"!==o.tagName)return;t--}t>=r.length&&(t=0),t<0&&(t=r.length-1),n(t)}))}}()}(),a=document.querySelectorAll(".button_wide"),s=document.querySelector(".popup-consultation"),a.forEach((function(e){e.addEventListener("click",(function(){s.style.visibility="visible"}))})),s.addEventListener("click",(function(e){e.target.closest(".close-consultation")&&(s.style.visibility="hidden")})),r=document.querySelector(".reviews-slider-wrap"),l=r.querySelectorAll(".reviews-slider__slide"),(c=function(e){l.forEach((function(t,n){t.style.display=e===n?"flex":"none"}))})(i=0),r.addEventListener("click",(function(e){e.preventDefault();var t=e.target;if(c(i),t.closest(".slider-arrow_right"))i++;else{if(!t.closest(".slider-arrow_left"))return;i--}i>=l.length&&(i=0),i<0&&(i=l.length-1),c(i)})),t=document.getElementById("faq").querySelectorAll(".title_block"),faq.addEventListener("click",(function(e){var n=e.target;t.forEach((function(e){e===n?e.classList.toggle("msg-active"):e.classList.remove("msg-active")}))}))}))})();